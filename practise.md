# KataGo WebUI 练习体系设计（基于现有题集）

本文只讨论“如何设计题目与编排体系”，不涉及具体实现。已盘点到现有练习页与题集，以下在其基础上规划从入门到进阶的体系与出题规范。

## 现有题集与页面
- 练习入口：`frontend/public/train.html`（固定黑先、支持提示高亮、支持单步与多步序列、完成后自动切到下一题/题集）。
- 题集：
  - 入门：`frontend/public/problems/basic.json`（基础死活）
  - 入门：`frontend/public/problems/capture.json`（打吃与提子）
- 题目格式已支持：`setup`（初始摆子）、`firstMoves`（单步正确点集）、`sequence`（多步黑白交替）、可选 `hint/successHint`、以及按先手视角的 `modes.black`。

## 设计目标（从入门到进阶）
- 入门：建立“气/打吃/基本活棋”的直觉与操作感。
- 进阶：识别常见战术结构（征子、枷吃、倒扑、劫、接不归、关门出头）。
- 提升：角部生死、官子基础、先手/后手判断与简短阅读序列训练。
- 高阶（可选）：形状要点与简化定式中的关键一手（不追求全局对局）。

## 题集编排（建议路径）
- 入门（完成门槛：正确率≥80%，能在 3–5 秒内定位要点）
  - 01 打吃与提子（capture，已存在）
  - 02 基础死活（basic，已存在）
  - 03 眼形入门（两眼成活/打断做眼的要点）
- 进阶（完成门槛：多步题核心一手能快速找到）
  - 11 征子（梯形）识别与避免
  - 12 枷吃（网吃）与扑（封锁）
  - 13 接不归与断点读气
  - 14 劫争入门（只做“打劫第一手”的判断，不做复杂劫材）
- 提升（完成门槛：在角部和边上能稳定找对要点）
  - 21 角部生死（常见形状的必点）
  - 22 官子入门（先手官子与送死先手）
  - 23 出头与厚势（抢先手的方向感）
  - 24 阅读训练（3–5 手短序列，黑正确-白应对-黑收束）

说明：每个编号代表一个题集（10–20 题为宜），保持题目单一技能聚焦，不同题集之间互为补充。

## 出题规范（结合现有格式）
- 统一先手：短期固定黑先（与当前 UI 一致）；若未来需要白先，使用现有 `modes.white` 扩展即可。
- 单一技能：一道题只考一个要点（如“打吃先手”或“征子方向”）。
- 正确解数量：优先 1–2 个等价正确点，避免多解导致反馈不明确。
- 多步题约束：
  - 使用 `sequence` 表达黑白交替，序列长度以奇数为宜（黑收束）。
  - 白方应手尽量唯一，避免歧义；必要时在 `successHint` 文字中说明“等价应手视为同类”。
- 棋盘与摆子：
  - 默认 19 路；面向入门可考虑 9/13 路题集（JSON 内 `size` 指定）。
  - `setup` 用最少子数表达关键关系，减少视觉噪音。
- 文案：
  - `goal` 只写“黑先，…（动作与目的）”，避免专业术语过载。
  - 可选 `hint` 用一句话指向观察焦点（如“数一数对方这串子的气”）。
- 校验口径：题面通过至少两人交叉审题，确保“错误落子”能被明确判定。

## 难度标注与晋级规则
- 题目标注：E（入门）、I（进阶）、A（提升）。
- 集合通过线：
  - 入门集：正确率≥80%，平均答题时间≤15 秒/题。
  - 进阶/提升集：完成“必做题”正确率≥70%，多步题能在 30–45 秒内完成。
- 晋级规则：当下一级的前 5 题试水正确率≥60% 时，允许进入下一集合系统练习。

## UI 高层改进方向（围绕练习，不含实现）
- 章节化与进度：题集左侧显示章节树与完成度，顶部展示当前集的进度与门槛。
- 错题本：记录错题并可一键复训；支持“只练错题/薄弱标签”。
- 统计页：按标签统计正确率与平均用时，给出最近 7 天趋势。
- 连击/节奏：答对后 1 秒自动跳转，支持快捷键 N/P/H（下一/上一/提示）。
- 适配小盘：入门题集默认 9/13 路视图，减少视觉负担。
- 提示分级：首次展示“幽灵棋+虚线圈”，再次点击才给“更强提示”（例如减少候选范围）。
- 可达性：清晰的焦点样式与 aria 文案，移动端大按钮区域，避免误触。

## 下一步建议
- 先补齐“眼形入门”“征子识别”“角部生死”三个题集的题面草稿（仅 JSON 结构与示例两三题即可，用于定标）。
- 对现有 basic/capture 做一次复盘：统计错误易混点，作为新题集的“对照题”。
- 确认晋级门槛文案与统计口径后，再扩展更多题集。

## 题集草稿计划（不含实现）

E-眼形入门（入门/E）
- 受众：零基础/入门阶段练习者。
- 能力目标：认识“做两眼即活/假眼不可用/破眼优先点”，形成角边简易做活直觉。
- 边界：不涉及复杂攻杀与长阅读；不引入完整定式，仅聚焦单点成败。
- 题型：以单步题为主，少量两步（黑-白-黑）短序列用于“补棋成眼/阻断做眼”。
- 难度分层：
  - E1 基础识别：真眼/假眼、虎口补点、点一线二线的区别。
  - E2 破眼要点：先手断/托退打入后一手的活形补点。
  - E3 一眼一征/一眼一气：在简化场景中判断先后与要点归属。
- 门槛标准：正确率≥80%，平均答题≤15秒/题；两步题≤30秒/题。
- 题量建议：12–18 题，覆盖角/边/中腹的典型眼形片段。
- 取材原则：优先“最小构型”表达（减少无关子），避免一题多解；正确点不超过 2 个等价点。
- 常见错因：把假眼当真眼、忽略虎口被断、补棋方向错误导致被先手破眼。
- UI 提示策略：首次提示为“幽灵棋+虚线圈”的候选点集合；二次提示给出“补点/破眼”的简短文案，不额外新增控件。

I-征子识别（进阶/I）
- 受众：已掌握打吃/提子的练习者，进入基础攻杀阅读。
- 能力目标：快速判断“征子是否成立/朝向何方/第一手应下在哪里”。
- 预备：会数气、理解“打吃后追击/逃跑”的先后关系。
- 边界：不涉及复杂劫材与大范围转换；不做长阅读，仅要求第一关键手与跑向判断。
- 题型：判定+落子；多步题不超过 3 手（黑正确-白唯一应对-黑继续追征或收束）。
- 难度分层：
  - I1 征的方向：识别“向外有帮手/向内受阻”的大势方向。
  - I2 断点与先手：先打吃还是先封路的取舍。
  - I3 转征与转换：一手棋让征子由不利变有利（简化场景）。
- 门槛标准：单步题正确率≥75%，三手题在≤45秒内完成；错题二刷提升≥15%。
- 题量建议：12–16 题，覆盖角/边/中腹不同助力与空域条件。
- 取材原则：白方应手尽量唯一；如存在等价应手，题面文案明确“等价视为同类”。
- 常见错因：反方向追征、忽视断点先手、忽略外围帮手/障碍导致误判可行性。
- UI 提示策略：保留当前提示按钮逻辑；不新增路径动画，避免引导过度。

A-角部生死（提升/A）
- 受众：已具备眼形与打吃基础，希望提升角部要点把握。
- 能力目标：掌握角部常见形状的“必点”与“先手抢占”方向，能避免送活/自杀点。
- 预备：眼形入门、二路三路典型手筋（扳、虎、长、点）。
- 边界：不展开完整定式复杂分支；仅考关键一手与简短收束。
- 题型：单步“必点”为主，少量两步（黑-白-黑）用于演示“扳粘取先手/补强成活”。
- 难度分层：
  - A1 常见活形要点：三三活型补点、虎口补强、托退后的唯一要点。
  - A2 边角攻防：打入后二路抢先手、断点先后取舍。
  - A3 陷阱与误区：一线/二线误点、贪大失活、送先手。
- 门槛标准：正确率≥70%，平均答题≤20秒/题；两步题≤45秒/题。
- 题量建议：14–20 题，覆盖左上/右上/右下/左下四象限的对称与反例。
- 取材原则：保证“必点唯一或等价有限”；摆子最简，避免背景定式干扰判断。
- 常见错因：优先顺手而非要点、补棋方向与出头路径选择错误、误以为对手无先手。
- UI 提示策略：允许在窄屏下自动放大角部区域（仅体验建议），题面仍以单点提示为主。
